{#{% extends 'base.html.twig' %}#}
<!-- Font Awesome -->
<link
        href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css"
        rel="stylesheet"
/>
<!-- Google Fonts -->
<link
        href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700&display=swap"
        rel="stylesheet"
/>
<!-- MDB -->
<link
        href="https://cdnjs.cloudflare.com/ajax/libs/mdb-ui-kit/3.11.0/mdb.min.css"
        rel="stylesheet"
/>
<!-- CUSTOM -->
<link
        href=" {{asset('/publication/css/custom_css.css')}}"
        rel="stylesheet"
/>
{% block title %}New Publication{% endblock %}

{% block body %}
    <h1>Create new Publication</h1>

{#    {{ include('publication/_form.html.twig') }}#}
{{ form_start(form) }}
{#<form name="publication" method="post">#}
<div class="row">
    <div class="col-1">
        <img
                src="{{ asset('/publication/img/user.png')}}"
                id="imgAnimate"
                style="    width: auto;
    height: 63px;"
        />
    </div>
    <div class="col-3 form-outline text-area_custom border border-dark rounded" style="top:-10px; width: 50%">
{#        <textarea class="form-control bg-light" id="textAreaExample" name="publication[description]" rows="3" id="publication_description" name="">Quoi de neuf? ,Name</textarea>#}
    {{ form_label(form.description) }}
        {{ form_errors(form.description) }}
        {{ form_widget(form.description,{'attr':{'class':'form-control bg-light','placeholder':'Quoi de neuf?'}}) }}
    </div>
{#    {{ form_row(form.visibilite,{'attr':{'class':'form-control hidden'}}) }}#}
</div>
    <div class="row">
        <div class="col-md-1 offset-md-3">
            <button aria-label="Ouvrir l'onglet des GIF" type="button" class="btn btn-dark">
                <div>
                    <div id="icon" style="opacity: 1; transform: none;">
                        <svg width="24" height="24" class="" aria-hidden="false" viewBox="0 0 24 24">
                            <path fill="currentColor" d="M2 2C0.895431 2 0 2.89543 0 4V20C0 21.1046 0.89543 22 2 22H22C23.1046 22 24 21.1046 24 20V4C24 2.89543 23.1046 2 22 2H2ZM9.76445 11.448V15.48C8.90045 16.044 7.88045 16.356 6.74045 16.356C4.11245 16.356 2.66045 14.628 2.66045 12.072C2.66045 9.504 4.23245 7.764 6.78845 7.764C7.80845 7.764 8.66045 8.004 9.32045 8.376L9.04445 10.164C8.42045 9.768 7.68845 9.456 6.83645 9.456C5.40845 9.456 4.71245 10.512 4.71245 12.06C4.71245 13.62 5.43245 14.712 6.86045 14.712C7.31645 14.712 7.64045 14.616 7.97645 14.448V12.972H6.42845V11.448H9.76445ZM11.5481 7.92H13.6001V16.2H11.5481V7.92ZM20.4724 7.92V9.636H17.5564V11.328H19.8604V13.044H17.5564V16.2H15.5164V7.92H20.4724Z"></path>
                        </svg>
                    </div>
                </div>
            </button></div>
        <div class="col-md-1"> <button type="button" class="btn btn-secondary"><i class="fas fa-photo-video fa-2x"></i></button></div>
        <div class="col-md-1"> <button type="button" class="btn btn-secondary"><i class="far fa-grimace fa-2x"></i></button></div>
        <div class="col-md-2"> <button type="submit" class="btn btn-success">Publier <i class="fas fa-arrow-down"></i></button></div>

{#        <a href="{{ path('app_publication_new') }}" class="btn rounded-pill btn-danger">BY SNITCHY.</a>#}
{#        app_publication_new#}
        <div class="col-md-6 col-lg-4">
        <div class="card mb-3" style="background-color: #202225">
            <div class="card-body">
                <input type="text" class="form-control card-title" id="GifSearcher" placeholder="Chercher Sur Gif" onkeyup="LoadGif()">
                    <div class="text-center" id="imgContainer">
{#                        <img src="https://image.shutterstock.com/image-vector/vector-line-icon-img-260nw-2050481222.jpg" width="194" height="110" style="padding-bottom: 5px;padding-right: 2px;border-radius: 10px;">#}
{#                        <img src="https://image.shutterstock.com/image-vector/vector-line-icon-img-260nw-2050481222.jpg" width="194" height="110" style="padding-bottom: 5px;padding-right: 2px;border-radius: 10px;">#}
{#                        <img src="https://image.shutterstock.com/image-vector/vector-line-icon-img-260nw-2050481222.jpg" width="194" height="110" style="padding-bottom: 5px;padding-right: 2px;border-radius: 10px;">#}
{#                        <img src="https://image.shutterstock.com/image-vector/vector-line-icon-img-260nw-2050481222.jpg" width="194" height="110" style="padding-bottom: 5px;padding-right: 2px;border-radius: 10px;">#}
{#                        <img src="https://image.shutterstock.com/image-vector/vector-line-icon-img-260nw-2050481222.jpg" width="194" height="110" style="padding-bottom: 5px;padding-right: 2px;border-radius: 10px;">#}
                    </div>
            </div>
        </div>
        </div>
    </div>
{#</form>#}
{{ form_end(form) }}
    <a href="{{ path('app_publication_index') }}">back to list</a>
{% endblock %}
<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
<script>
   function LoadGif()
    {
        $("#imgContainer").empty();

        typed=$("#GifSearcher").val();
        $.ajax({
            method: "GET",
            url: "https://api.giphy.com/v1/gifs/search",
            data: { api_key: "58vCKzIZ90aMac7PimlKJR5KcGt39EPo",limit:6, q: typed }
        })
            .done(function( msg ) {
                for (let item of msg.data) {
                    //console.log(msg.data[item].images);
                    $("#imgContainer").append('<img src="'+item.images.downsized.url+'" width="194" height="110" style="padding-bottom: 5px;padding-right: 2px;border-radius: 10px;">');
                }
                // msg.data
            });
    }
    function LoadContent()
    {

    }
</script>
